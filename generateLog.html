<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Unipd: Log ID Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/short-unique-id@latest/dist/short-unique-id.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <style>
      .container {
        display: flex;
        align-items: center;
        flex-direction: column;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Unipd: Log ID Generator</h2>
      <button id="genRandom" class="btn-success">Generate Random Log ID</button>
      <p>
        <strong>Random ID Generated:</strong>
        <span id="randomResult"></span>
      </p>
      <button onclick="copyGeneratedLogId()">Copy ID</button>
    </div>

    <script>
      function copyGeneratedLogId() {
        // Get the text field
        const logId = $("#randomResult").text();
        if (logId == "") {
          alert("Please generate a random ID first");
          return;
        }
        // Copy the text inside the text field
        navigator.clipboard.writeText(logId);
        // Alert the copied text
        alert("Copied the ID: " + logId);
      }
      window.onload = function () {
        const uid = new ShortUniqueId({ debug: true });
        $("#genRandom").click(function (e) {
          e.preventDefault();
          $("#randomResult").html(uid.randomUUID(10));
        });
      };
    </script>
  </body>
</html>
